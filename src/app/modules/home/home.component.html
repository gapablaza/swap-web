@if (isLoaded$ | async) {
<section class="home">
  <div class="site-title">
    <div class="site-title-main">
      <img src="/assets/img/logo-icon-40x40.svg" width="60" height="60" alt="Logo Intercambialaminas.com">
      <h1>Intercambia stickers y completa tus álbumes</h1>
    </div>
    <p>Encuentra fácilmente con quién cambiar láminas / stickers / figuritas / pegatinas / cromos / estampas / cartas!
    </p>
  </div>

  <h2>Populares</h2>
  <p class="home-subtitle">
    Álbumes / Colecciones con más usuarios en los últimos 15 días
  </p>
  <app-list-resalted-collections [collections]="(vm$ | async)?.popular || []"></app-list-resalted-collections>

  @if (((vm$ | async)?.moreMedia?.length || 0) > 0) {
  <h2>Con más elementos multimedia</h2>
  <p class="home-subtitle">
    Usuarios con más elementos multimedia publicados en los últimos 30 días
  </p>
  <app-list-users [users]="(vm$ | async)?.moreMedia || []" [type]="'media'"></app-list-users>
  }

  <h2>Recientemente publicados</h2>
  <p class="home-subtitle">
    Últimos álbumes / colecciones publicados por las editoriales
  </p>
  <app-list-collections [collections]="(vm$ | async)?.published || []"></app-list-collections>

  @defer (on viewport) {
  <app-home-feeds />
  } @placeholder {
  <h2>Actividad reciente</h2>
  }

  <h2>Mejor evaluados</h2>
  <p class="home-subtitle">
    Usuarios con más evaluaciones positivas recibidas en los últimos 15 días
  </p>
  <app-list-users [users]="(vm$ | async)?.morePositives || []" [type]="'positives'"></app-list-users>

  <h2>Últimas incorporaciones</h2>
  <p class="home-subtitle">
    Últimos álbumes / colecciones agregados a nuestro catálogo
  </p>
  <app-list-collections [collections]="(vm$ | async)?.added || []"></app-list-collections>

  <h2>Con más ítems listados</h2>
  <p class="home-subtitle">
    Usuarios con mas ítems (láminas / stickers / figuritas / pegatinas / cromos / estampas) marcados
  </p>
  <app-list-users [users]="(vm$ | async)?.moreItems || []" [type]="'item'"></app-list-users>

  <h2>Últimos en registrarse</h2>
  <p class="home-subtitle">
    Últimos usuarios que se han registrado
  </p>
  <app-list-users [users]="(vm$ | async)?.users || []"></app-list-users>
</section>
} @else {
<app-home-placeholder />
}
